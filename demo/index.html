
<!DOCTYPE html>
<html>
  <meta charset="utf-8">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.js"></script>
<body ng-app="myApp">
<div ng-view></div>

</body>
<script>
var app = angular.module("myApp", ["ngRoute"]);
app.config(function($routeProvider) {
    $routeProvider
    .when("/", {
        templateUrl : "login.htm",
		controller : "dashboard"
		 //controller : "londonCtrl"
    })
	.when("/dashboard", {
	    templateUrl : "dashboard.php",
		controller : "dashboard"
	}).when("/logout", {
	    templateUrl : "logout.php",
		controller : "logout"
	})
	.when("/add_user", {
	    templateUrl : "add_user.php",
		controller : "add_user"
	})
	
	.otherwise({
        templateUrl :"404.html",
		 controller : "londonCtrl"
		
    });
	});

app.controller("londonCtrl", function ($scope) {
    $scope.msg = 'images.png';
});
app.controller("add_user", function ($scope) {
$scope.add_user_class="active";

});
app.controller("logout", function ($scope, $location) {
 $location.url('/');
   // $scope.msg = 'images.png';
  // alert(1);
});
app.controller("myCtrl", function($scope) {
$scope.email_validate=false;
$scope.tempUser = { email : "fsdfsd"};


 $scope.myTxt = "You have not yet clicked submit";
  $scope.myFunc = function () {
     console.log($scope.tempUser.email);
     $scope.myTxt = "You clicked submit!";
  }
});
app.controller("dashboard", function ($scope,$http,$location) {
   $http({
                method: 'POST',
                url: 'test.php',
                data: $.param({action:2}),
                dataType: 'json',
                headers: {'Content-Type': 'application/x-www-form-urlencoded'}
            }).success(function (result) {
			   if(result.return==1){
			    if($location.$$path!='/dashboard'){
						$location.url('dashboard');
				 }
					$scope.home_class="active";
					$scope.welecome_msg="Welcome "+result.name;
				} else {
				  $location.url('/');
				}
            }) .error(function (xhr, ajaxOptions, thrownError) {
						
							alert("ss");
			 });
});
app.controller('validateCtrl', function($scope,$http,$location) {
$scope.submited=false;
$scope.email="";
$scope.pwd="";
 $scope.tempUser = {};
$scope.submitf = function(){
   $http({
                method: 'POST',
                url: 'test.php',
                data: $.param({action:1,'user' : $scope.tempUser}),
                dataType: 'json',
                headers: {'Content-Type': 'application/x-www-form-urlencoded'}
            }).success(function (result) {
			   if(result.result==1){
			      $location.url('dashboard');
				} else {
				 alert('login failed');
				}
            }) .error(function (xhr, ajaxOptions, thrownError) {
						
							alert("ss");
			 });
						
						
						
						
console.log("posting data....");
 //alert($scope.form);
formData = $scope.form;
        console.log(formData);

}

 $scope.save = function() {
        formData = $scope.form;
        console.log (formData);
    };

});
</script>
</html>